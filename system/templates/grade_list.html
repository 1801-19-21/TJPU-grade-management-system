{% extends "base.html" %}

{% block styles %}
    <link href="/grade_list.css" rel="stylesheet" />
{% endblock %}


{% block page_content %}
<div class="paper">
    <form class="grade-form" action="/action/grade/add" method="post">
        <label>学生：</label>
        <select name="student_sn">
            <option value="">--选择--</option>
            {% for stu in students %}
            <option value="{{stu.student_sn}}">
                {{stu.student_name}}({{stu.student_sn}})
            </option>
            {% endfor %}
        </select>

        <label>课程：</label>
        <select name="course_sn">
            <option value="">--选择--</option>
            {% for item in courses %}
            <option value="{{item.course_sn}}">
                {{item.course_name}}({{item.course_sn}})
            </option>
            {% endfor %}
        </select>

        <label>学期：</label>
        <select name="term">
            <option value="">--选择--</option>
            {% for item in items %}
            <option value="{{item.term}}">
                {{item.term}}
            </option>
            {% endfor %}
        </select>


        <label>成绩：</label>
        <input type="text" name="grade" />

        <input type="submit" value="添加成绩" />
    </form>
    <hr />
    <table>
        <tr>
            <th>姓名</th>
            <th>课程</th>
            <th>学期</th>
            <th>成绩</th>
            <th>操作</th>
        </tr>
        {% for item in items %}
        <tr>
            <td>{{ item.student_name }}</td>
            <td>{{ item.course_name }}</td>
            <td>{{ item.term }}</td>
            <td>{{ item.grade }}</td>
            <td>
                <div class="ctrlbar">
                    <div class="btn">
                        <a href="/grade/edit/{{item.student_sn}}/{{item.course_sn}}/{{item.term}}">
                            修改
                        </a>
                    </div>
                    <div class="btn">
                        <a href="/grade/delete/{{item.student_sn}}/{{item.course_sn}}/{{item.term}}">
                            删除
                        </a>
                    </div>
                </div>
            </td>
        </tr>
        {% endfor %}
    </table>
</div>
{% endblock %}